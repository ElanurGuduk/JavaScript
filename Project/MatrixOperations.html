<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Matrix page</title>
	<style>

	body{
		background-color:powderblue; 
	}
	h1{
		font-size:30px; 
		margin-left: 500px;		
		margin-top: 40px;
		color: #424949;
	}
	h2{

		font-size: 15px;
		margin-left: 500px;
		margin-top: 400px;
		color: #424949; 
	}
	button{
		border: none;
		padding: 10px;
		border-radius: 4px;
		height: 30px;
	}
	#m1-div{
		width: 150px;
		height: 150px;
		background-color: powderblue; 
		position: absolute;
		top: 120px;
		left:120px;
	}
	#m2-div{
		width: 150px;
		height: 150px;
		background-color: powderblue; 
		position: absolute;
		top: 120px;
		left:300px;
	}
	#m3-div{
		width: 150px;
		height: 150px;
		background-color: powderblue; 
		position: absolute;
		top: 120px;
		left:480px;
	}
	#button-div{
		width: 150px;
		height: 150px;
		background-color: powderblue; 
		position: absolute;
		top: 150px;
		left:650px;
	}

	</style>
</head>
<body>
	<h1>Matrix Operations</h1>	
	<div id="m1-div">
		<table class="m1-table"><br> <b>  Matrix 1 </b>

			<tr>
				<td><input id=m1_00 type=number value=3 style="width:37px; height: 33px;"></td>
				<td><input id=m1_01 type=number value=6 style="width:37px; height: 33px;"></td>
				<td><input id=m1_02 type=number value=9 style="width:37px; height: 33px;"></td>
			</tr>
			<tr>
				<td><input id=m1_10 type=number value=1 style="width:37px; height: 33px;"></td>
				<td><input id=m1_11 type=number value=0 style="width:37px; height: 33px;"></td>
				<td><input id=m1_12 type=number value=2 style="width:37px; height: 33px;"></td>
			</tr>
			<tr>
				<td><input id=m1_20 type=number value=4 style="width:37px; height: 33px;"></td>
				<td><input id=m1_21 type=number value=1 style="width:37px; height: 33px;"></td>
				<td><input id=m1_22 type=number value=0 style="width:37px; height: 33px;"></td>
			</tr>
		</table>
	</div>
	<div id="m2-div">
		<table class="m2-table"><br> <b> Matrix 2</b>

			<tr>
				<td><input id=m2_00 type=number value=2 style="width:37px; height: 33px;"></td>
				<td><input id=m2_01 type=number value=7 style="width:37px; height: 33px;"></td>
				<td><input id=m2_02 type=number value=5 style="width:37px; height: 33px;"></td> 
			</tr>

			<tr>
				<td><input id=m2_10 type=number value=3 style="width:37px; height: 33px;"></td>
				<td><input id=m2_11 type=number value=2 style="width:37px; height: 33px;"></td>
				<td><input id=m2_12 type=number value=7 style="width:37px; height: 33px;"></td>
			</tr>
			<tr>
				<td><input id=m2_20 type=number value=0 style="width:37px; height: 33px;"></td>
				<td><input id=m2_21 type=number value=8 style="width:37px; height: 33px;"></td>
				<td><input id=m2_22 type=number value=9 style="width:37px; height: 33px;"></td>
			</tr>
		</table>
		<button onclick="addMatrix()">Adding</button>
		<br>
		<br>
		<button onclick="multiply()">Multiply</button>
	</div>
		
	<div id="m3-div">
		<table class="m3-table"><br> <b> Result </b>

			<tr>
				<td><input id=m3_00 type=number style="width:37px; height: 33px;"></td>
				<td><input id=m3_01 type=number style="width:37px; height: 33px;"></td>
				<td><input id=m3_02 type=number style="width:37px; height: 33px;"></td>
			</tr>
			<tr>
				<td><input id=m3_10 type=number style="width:37px; height: 33px;"></td>
				<td><input id=m3_11 type=number style="width:37px; height: 33px;"></td>
				<td><input id=m3_12 type=number style="width:37px; height: 33px;"></td>
			</tr>
			<tr>
				<td><input id=m3_20 type=number style="width:37px; height: 33px;"></td>
				<td><input id=m3_21 type=number style="width:37px; height: 33px;"></td>
				<td><input id=m3_22 type=number style="width:37px; height: 33px;"></td>
			</tr>
		</table>	
		<button onclick="transpoze()">Transpoze</button><br>
		<br>
		<button onclick="findDeterminant()">Determinant</button> : <br>
		<br>
		<input id=inp type=number style="width: 80px">
	</div>

	<div id="button-div">
		<button onclick="inverse()"> > Inverse</button><br>
		<table class="table">
			<tr>
				<td><input id=00 type=number style="width: 80px"></td>
				<td><input id=01 type=number style="width: 80px"></td>
				<td><input id=02 type=number style="width: 80px"></td>
			</tr>
			<tr>
				<td><input id=10 type=number style="width: 80px"></td>
				<td><input id=11 type=number style="width: 80px"></td>
				<td><input id=12 type=number style="width: 80px"></td>
			</tr>
			<tr>
				<td><input id=20 type=number style="width: 80px"></td>
				<td><input id=21 type=number style="width: 80px"></td>
				<td><input id=22 type=number style="width: 80px"></td>
			</tr>
		</table>
	</div>
	<div id="link">
		<h2>References :
			<p>
				<a href="https://www.w3schools.com/html/">w3schools</a>,
				<a href="http://bilgisayarkavramlari.sadievrenseker.com/2008/11/19/matrisin-tersinin-alinmasi-mantrix-inverse/">bilgisayar kavramlari</a><br>
			</p>	
		</h2>
		
	</div>
	

<script>
	function addMatrix(){
		let cell1, cell2, cell3;
		let x,y;
		for(let i=0; i<3; i++){
  			cell1="m1_"
  			cell2="m2_"
  			cell3="m3_"
  			for(let j=0; j<3; j++){
    			cell1+=(i).toString()+(j).toString()
    			cell2+=(i).toString()+(j).toString()
    			cell3+=(i).toString()+(j).toString()
    			//get elements in Matrix
    			x=Number(document.getElementById(cell1).value)
    			y=Number(document.getElementById(cell2).value)
    			//set elements in Matrix
    			document.getElementById(cell3).value =x+y;
    			cell1="m1_"
    			cell2="m2_"
    			cell3="m3_"
  			}  
		}	
	}
	function multiply(){
		let x=3, t=3;
		let cell1, cell2, cell3;
		let a,b;
		let c=0;
		for(let i=0; i<x; i++){
			for(let j=0; j<t; j++){
      			for(let k=0; k<t; k++){
      				cell1='m1_'
        			cell2='m2_'
        			cell1+=(i).toString()+(k).toString()
        			cell2+=(k).toString()+(j).toString()
        			a=Number(document.getElementById(cell1).value)
        			b=Number(document.getElementById(cell2).value)
        			c=c+a*b        			
      			}
      			cell3='m3_'
      			cell3+=(i).toString()+(j).toString()
				document.getElementById(cell3).value =c;      			
      			c=0
    		}
		}
		
	}
	function transpoze(){
		let cell3, val, tempCell;
		for(let i=0; i<3; i++){
			for(let j=0; j<i; j++){
				//1. iÅŸlem
      			cell3='m3_';
      			cell3+=(i).toString()+(j).toString()
      			val=Number(document.getElementById(cell3).value)
      			
      
      			//a[i][j]=a[j][i]		
      			tempCell='m3_';
      			tempCell+=(i).toString()+(j).toString()
      			cell3='m3_';
      			cell3+=(j).toString()+(i).toString()
      			document.getElementById(tempCell).value=Number(document.getElementById(cell3).value)    
      			
      			//a[j][i]=val
      			cell3='m3_';
      			cell3+=(j).toString()+(i).toString()
      			document.getElementById(cell3).value=val;
      			console.log(cell3)
    		}
		}

	}
	function determinant(matris){
		let temp;
		let result=0
		if(matris.length==1){
  			result=matris[0][0]
  			return result;
		}
		if(matris.length==2){
  			result=matris[0][0]*matris[1][1]-matris[0][1]*matris[1][0]
  			return result;
		}
		for(let i=0; i<matris[0].length; i++){
  			temp=new Array(matris.length-1)
  			temp[0]=new Array(2)
  			temp[1]=new Array(2)
  			for(let j=1; j<matris.length; j++){
    			for(let k=0; k<matris[0].length; k++){
      				if(k<i){
        				temp[j-1][k]=matris[j][k]
      				}
      				if(k>i){
        				temp[j-1][k-1]=matris[j][k]
      				}
    
    			}  
  			}
  		result+=matris[0][i]*Math.pow(-1,Number(i))*determinant(temp)
		}
		return result;
	}
	function findDeterminant(){
		let m=new Array()
		let values=[]
		let cell;

		for (let i = 0; i < 3; i++) {
			cell='m3_'
			m[i]=new Array(3)
			for(let j = 0; j < 3; j++){
				cell+=(i).toString()+(j).toString()
				m[i][j]=Number(document.getElementById(cell).value)
				cell='m3_'
			}
		}
		let det=determinant(m);
		document.getElementById('inp').value=det
		console.log(det)

		
	}
	function inverse(){
		let a=new Array(3)
		let b=new Array(3)
		let cell;
		for (let i = 0; i < 3; i++) {
			a[i]=new Array(3)
			b[i]=new Array(3)
			for(let j = 0; j < 3; j++){
				cell='m3_'
				cell+=(i).toString()+(j).toString()
				a[i][j]=Number(document.getElementById(cell).value)
			}
			cell='m3_'
		}
		console.log(a)

		for(let i=0; i<3; i++){
			for(let j=0; j<3; j++){
      			if(i==j){
        			b[i][j]=1
      			}        
      			else{
        			b[i][j]=0
      			}            
    		}
		}
		let d,k;
		for(let i=0; i<3; i++){
  			d=a[i][i]
  			for(let j=0; j<3; j++){
    			a[i][j]=a[i][j]/d
    			b[i][j]=b[i][j]/d
  
  			}
  			for(let x=0; x<3; x++){
    			if(x!=i){
      				k=a[x][i]
      				for(let j=0; j<3; j++){
        				a[x][j]=a[x][j]-(a[i][j]*k)
        				b[x][j]=b[x][j]-(b[i][j]*k)
      				}
    			}
  			}
		}
		let c;
		for(let i=0; i<3; i++){
			c=''
  			for(let j=0; j<3; j++){
  				c=''
      			c+=(j).toString()+(i).toString()
      			document.getElementById(c).value=b[i][j].toFixed(5);
    			   
    		}
		}
	}

</script>
</body>
</html>
